/*jQuery input clear button*/
(function ($) {"use strict";$.fn.inputClear = function(options) {var settings = $.extend({'exclude':'.no-clear',},options);return this.each(function() {$(this).not(settings.exclude).unbind("clear-focus").bind("clear-focus", (function () {if ($(this).data("clear-button")) return;var x = $("<a class='clear-text' style='cursor:pointer;color:#aaa;padding:3px 10px;'><span class='fa fa-times-circle fa-2x'></span></a>");$(x).data("text-box", this);$(x).mouseover(function () { $(this).addClass("over"); }).mouseleave(function () { $(this).removeClass("over"); });$(this).data("clear-button", x);$(x).css({ "position": "absolute", "left": ($(this).position().right), "top": $(this).position().top, "margin": "0px 0px 0px -40px" });$(this).after(x);})).unbind("clear-blur").bind("clear-blur", (function (e){var x = $(this).data("clear-button");if (x) {if ($(x).hasClass("over")) {$(x).removeClass("over");$(x).hide().remove();$(this).val("");$(this).removeData("clear-button");var txt = this;e.stopPropagation();e.stopImmediatePropagation();setTimeout($.proxy(function () { $(this).trigger("focus"); }, txt), 50);$(this).focus();return false;}}if (x && !$(x).hasClass("over")) {$(this).removeData("clear-button");$(x).remove();}}));$(this).on("focus", function () {$(this).trigger("clear-focus");}).on("blur", function () {$(this).trigger("clear-blur");});});};})(jQuery);
